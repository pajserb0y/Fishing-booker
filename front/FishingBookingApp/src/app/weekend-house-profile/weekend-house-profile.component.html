<div class="stepper">
    <h1>Weekend House: "{{weekendHouse.name}}" informations</h1>
  <form name="rform" #editForm="ngForm">            
              
    <mat-form-field appearance="fill" style="margin-right: 2%;">
      <mat-label>Name</mat-label>
      <input matInput type="text" name="name" [(ngModel)]="weekendHouse.name" required>
      <mat-hint *ngIf="weekendHouse.name == ''">Required</mat-hint>
      <mat-icon matSuffix></mat-icon>
    </mat-form-field>

    <mat-form-field appearance="fill" style="margin-right: 2%;">
        <mat-label>Address</mat-label>
        <input matInput type="text" name="address" [(ngModel)]="weekendHouse.address" required>
        <mat-hint *ngIf="weekendHouse.address == ''">Required</mat-hint>
      </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Description</mat-label>
      <input matInput type="text" name="description" [(ngModel)]="weekendHouse.description" required>
      <mat-hint *ngIf="weekendHouse.description == ''">Required</mat-hint>
    </mat-form-field>

    <mat-form-field appearance="fill">
        <mat-label>Bed number</mat-label>
        <input matInput type="text" name="bedNumber" [(ngModel)]="weekendHouse.bedNumber" required>
      </mat-form-field>
  
      <mat-form-field appearance="fill" style="margin-right: 2%;">
        <mat-label>Rules</mat-label>
        <textarea required matInput  name="rules" placeholder="Rules" [(ngModel)]="weekendHouse.rules"  rows="10" cols="20" ></textarea>
        <mat-hint *ngIf="weekendHouse.rules == ''">Required</mat-hint>
      </mat-form-field>

      <mat-form-field appearance="fill" style="margin-right: 2%;">
        <mat-label>Price</mat-label>
        <input matInput  name="password" id="price" name="price" [(ngModel)]="weekendHouse.price" required>
      </mat-form-field>

        <div>
        <mat-label style="padding-top: 20px;" for="additionalServices">List of services</mat-label>
        <mat-select formControlName="services" name="additionalServices" [(ngModel)]="selectedServices" multiple>
          <mat-option checkboxPosition="before" *ngFor="let service of weekendHouse.additionalServices" [value]="service">
              {{ service.name }} - {{ service.price }}
          </mat-option>
        </mat-select>   
        
            <button mat-raised-button color="warn" (click)="deleteService()" [disabled]="selectedServices === null" >Delete</button>
        </div> 
        <mat-form-field appearance="fill" style="margin-right: 2%;">
            <mat-label>Add new service: </mat-label>
            <input matInput placeholder="Name of new activity" name="newServiceName" id="newServiceName" [(ngModel)]="newService.name" >
        </mat-form-field> 

        <mat-form-field appearance="fill" style="margin-right: 2%;">
            <mat-label>Price: </mat-label>
            <input matInput placeholder="Price of new activity" name="newServicePrice" id="newServicePrice" [(ngModel)]="newService.price" >
            <button mat-raised-button color="warn" (click)="addNewService(newService)" [disabled]="newService.name === '' || newService.price === 0" >Add</button> 
        </mat-form-field> 
    
      <div style="margin-top: 3%;">
        <button mat-raised-button color="warn" (click)="editWeekendHouse()" [disabled]="!editForm.valid" >Edit</button>
      </div>
    
     </form>

     <table mat-table [dataSource]="weekendHouse.weekendHouseReservations" class="mat-elevation-z8" style="width: 100%;">
        <ng-container matColumnDef="startDateTime">
            <mat-header-cell *matHeaderCellDef> Start Date and Time </mat-header-cell>
                <mat-cell *matCellDef="let element" >
                  <ng-container >{{element.startDateTime}}</ng-container>
                    </mat-cell>
          </ng-container>
    
          <ng-container matColumnDef="endDateTime">
            <mat-header-cell *matHeaderCellDef> End Date and Time </mat-header-cell>
                <mat-cell *matCellDef="let element" >
                  <ng-container >{{element.endDateTime}}</ng-container>
                    </mat-cell>
          </ng-container>
    
          <ng-container matColumnDef="price">
            <mat-header-cell *matHeaderCellDef> Price </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.price}} </mat-cell>
          </ng-container>

          <ng-container matColumnDef="customer">
            <mat-header-cell *matHeaderCellDef> Customer </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.customer.firstName}} {{ element.customer.lastName}} </mat-cell>
          </ng-container>

          <ng-container matColumnDef="weekendHouse">
            <mat-header-cell *matHeaderCellDef> Weekend House </mat-header-cell>
            <mat-cell *matCellDef="let element"> {{element.weekendHouse.name}}  </mat-cell>
          </ng-container>
    
          <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
          <mat-row *matRowDef="let row; columns: displayedColumns;" (click)="showUserInfo(row)"></mat-row>
      </table>
</div>
  
